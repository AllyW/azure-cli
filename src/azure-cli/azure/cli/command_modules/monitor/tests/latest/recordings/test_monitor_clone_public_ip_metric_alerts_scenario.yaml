interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network public-ip create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.53.0 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_metric_alert_clone000001?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001","name":"cli_test_metric_alert_clone000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","test":"test_monitor_clone_public_ip_metric_alerts_scenario","date":"2023-10-20T08:54:01Z","module":"monitor"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '424'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 08:54:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"idleTimeoutInMinutes": 4, "publicIPAllocationMethod":
      "Dynamic"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network public-ip create
      Connection:
      - keep-alive
      Content-Length:
      - '104'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1?api-version=2022-11-01
  response:
    body:
      string: '{"name":"ip1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1","etag":"W/\"606c3e29-d09d-497f-bd53-dea46d6447f5\"","location":"westus","properties":{"provisioningState":"Updating","resourceGuid":"9bd33aa7-742e-4e47-8dea-46a1ecfb540b","publicIPAddressVersion":"IPv4","publicIPAllocationMethod":"Dynamic","idleTimeoutInMinutes":4,"ipTags":[]},"type":"Microsoft.Network/publicIPAddresses","sku":{"name":"Basic","tier":"Regional"}}'
    headers:
      azure-asyncnotification:
      - Enabled
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/519b9481-547d-400b-930d-3df1a014c2df?api-version=2022-11-01
      cache-control:
      - no-cache
      content-length:
      - '536'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 08:54:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 20eec282-4420-4b57-b8df-bf8bb559dcb9
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network public-ip create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/519b9481-547d-400b-930d-3df1a014c2df?api-version=2022-11-01
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 08:54:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 4232beb3-e83f-434f-8fbf-eee6d102ce16
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network public-ip create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1?api-version=2022-11-01
  response:
    body:
      string: '{"name":"ip1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1","etag":"W/\"af31b302-9be8-4d82-9830-7471e5c9fa70\"","location":"westus","properties":{"provisioningState":"Succeeded","resourceGuid":"9bd33aa7-742e-4e47-8dea-46a1ecfb540b","publicIPAddressVersion":"IPv4","publicIPAllocationMethod":"Dynamic","idleTimeoutInMinutes":4,"ipTags":[]},"type":"Microsoft.Network/publicIPAddresses","sku":{"name":"Basic","tier":"Regional"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '537'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 08:54:12 GMT
      etag:
      - W/"af31b302-9be8-4d82-9830-7471e5c9fa70"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - a4662696-ed28-414f-bea5-0df67ce54059
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network public-ip create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.53.0 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_metric_alert_clone000001?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001","name":"cli_test_metric_alert_clone000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","test":"test_monitor_clone_public_ip_metric_alerts_scenario","date":"2023-10-20T08:54:01Z","module":"monitor"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '424'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 08:54:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"idleTimeoutInMinutes": 4, "publicIPAllocationMethod":
      "Dynamic"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network public-ip create
      Connection:
      - keep-alive
      Content-Length:
      - '104'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip2?api-version=2022-11-01
  response:
    body:
      string: '{"name":"ip2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip2","etag":"W/\"ecca3a78-9263-464e-98bb-72e15bfdf613\"","location":"westus","properties":{"provisioningState":"Updating","resourceGuid":"44af02e6-a711-422e-bdf0-af708837e22b","publicIPAddressVersion":"IPv4","publicIPAllocationMethod":"Dynamic","idleTimeoutInMinutes":4,"ipTags":[]},"type":"Microsoft.Network/publicIPAddresses","sku":{"name":"Basic","tier":"Regional"}}'
    headers:
      azure-asyncnotification:
      - Enabled
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/5493ca39-b419-4e45-adb5-9928a9973599?api-version=2022-11-01
      cache-control:
      - no-cache
      content-length:
      - '536'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 08:54:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - e165a35a-1651-4707-8b42-bf4758091f05
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network public-ip create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/5493ca39-b419-4e45-adb5-9928a9973599?api-version=2022-11-01
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 08:54:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 48d53131-58c5-4ebf-80de-086e6a008704
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network public-ip create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip2?api-version=2022-11-01
  response:
    body:
      string: '{"name":"ip2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip2","etag":"W/\"00862ab8-f005-4021-a899-c2f3408d95f0\"","location":"westus","properties":{"provisioningState":"Succeeded","resourceGuid":"44af02e6-a711-422e-bdf0-af708837e22b","publicIPAddressVersion":"IPv4","publicIPAllocationMethod":"Dynamic","idleTimeoutInMinutes":4,"ipTags":[]},"type":"Microsoft.Network/publicIPAddresses","sku":{"name":"Basic","tier":"Regional"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '537'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 08:54:19 GMT
      etag:
      - W/"00862ab8-f005-4021-a899-c2f3408d95f0"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 3d7dbb74-30e2-4ba9-85a6-c33a5a976b1a
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "Global", "properties": {"enabled": true, "groupShortName":
      "ag1"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor action-group create
      Connection:
      - keep-alive
      Content-Length:
      - '80'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/actionGroups/ag1?api-version=2022-06-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1","type":"Microsoft.Insights/ActionGroups","name":"ag1","location":"Global","kind":null,"tags":null,"properties":{"groupShortName":"ag1","enabled":true,"emailReceivers":[],"smsReceivers":[],"webhookReceivers":[],"eventHubReceivers":[],"itsmReceivers":[],"azureAppPushReceivers":[],"automationRunbookReceivers":[],"voiceReceivers":[],"logicAppReceivers":[],"azureFunctionReceivers":[],"armRoleReceivers":[]}}'
    headers:
      access-control-expose-headers:
      - x-activityid
      api-supported-versions:
      - 2016-09-01-preview, 2017-03-01-preview, 2017-04-01, 2018-03-01, 2018-09-01,
        2019-03-01, 2019-06-01, 2021-09-01, 2022-04-01, 2022-06-01, 2023-01-01, 2023-03-01-preview,
        2023-05-01-preview, 2023-05-01, 2023-08-01-preview, 2023-09-01-preview
      cache-control:
      - no-cache
      content-length:
      - '560'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 08:54:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-activityid:
      - 4258ccdc-6f26-11ee-a5ab-c01803b31d8e
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '24'
      x-servedby:
      - EUS2ONEIM000002
    status:
      code: 201
      message: Created
- request:
    body: '{"location": "global", "properties": {"actions": [{"actionGroupId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1"}],
      "criteria": {"odata.type": "Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria",
      "allOf": [{"criterionType": "StaticThresholdCriterion", "dimensions": [], "metricName":
      "TCPBytesForwardedDDoS", "name": "cond0", "operator": "GreaterThan", "threshold":
      5.0, "timeAggregation": "Total"}]}, "description": "Test", "enabled": true,
      "evaluationFrequency": "PT1M", "scopes": ["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1"],
      "severity": 2, "targetResourceRegion": "westus", "windowSize": "PT5M"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor metrics alert create
      Connection:
      - keep-alive
      Content-Length:
      - '825'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n --scopes --region --action --description --condition
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/alert1?api-version=2018-03-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/alert1\"\
        ,\r\n  \"name\": \"alert1\",\r\n  \"type\": \"Microsoft.Insights/metricAlerts\"\
        ,\r\n  \"location\": \"global\",\r\n  \"properties\": {\r\n    \"description\"\
        : \"Test\",\r\n    \"severity\": 2,\r\n    \"enabled\": true,\r\n    \"scopes\"\
        : [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1\"\
        \r\n    ],\r\n    \"evaluationFrequency\": \"PT1M\",\r\n    \"windowSize\"\
        : \"PT5M\",\r\n    \"criteria\": {\r\n      \"allOf\": [\r\n        {\r\n\
        \          \"threshold\": 5.0,\r\n          \"name\": \"cond0\",\r\n     \
        \     \"metricName\": \"TCPBytesForwardedDDoS\",\r\n          \"operator\"\
        : \"GreaterThan\",\r\n          \"timeAggregation\": \"Total\",\r\n      \
        \    \"criterionType\": \"StaticThresholdCriterion\"\r\n        }\r\n    \
        \  ],\r\n      \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\
        \r\n    },\r\n    \"targetResourceRegion\": \"westus\",\r\n    \"actions\"\
        : [\r\n      {\r\n        \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1\"\
        \r\n      }\r\n    ]\r\n  }\r\n}"
    headers:
      api-supported-versions:
      - 2017-09-01-preview, 2018-03-01
      arr-disable-session-affinity:
      - 'true'
      cache-control:
      - no-cache
      content-length:
      - '1257'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 08:54:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "global", "properties": {"actions": [{"actionGroupId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1",
      "webHookProperties": {"ag1key": "ag1value"}}], "criteria": {"odata.type": "Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria",
      "allOf": [{"criterionType": "StaticThresholdCriterion", "dimensions": [], "metricName":
      "TCPBytesForwardedDDoS", "name": "cond0", "operator": "GreaterThan", "threshold":
      5.0, "timeAggregation": "Maximum"}]}, "description": "Test2", "enabled": true,
      "evaluationFrequency": "PT1M", "scopes": ["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1"],
      "severity": 2, "targetResourceRegion": "westus", "windowSize": "PT5M"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor metrics alert create
      Connection:
      - keep-alive
      Content-Length:
      - '873'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n --scopes --region --action --description --condition
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/alert2?api-version=2018-03-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/alert2\"\
        ,\r\n  \"name\": \"alert2\",\r\n  \"type\": \"Microsoft.Insights/metricAlerts\"\
        ,\r\n  \"location\": \"global\",\r\n  \"properties\": {\r\n    \"description\"\
        : \"Test2\",\r\n    \"severity\": 2,\r\n    \"enabled\": true,\r\n    \"scopes\"\
        : [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1\"\
        \r\n    ],\r\n    \"evaluationFrequency\": \"PT1M\",\r\n    \"windowSize\"\
        : \"PT5M\",\r\n    \"criteria\": {\r\n      \"allOf\": [\r\n        {\r\n\
        \          \"threshold\": 5.0,\r\n          \"name\": \"cond0\",\r\n     \
        \     \"metricName\": \"TCPBytesForwardedDDoS\",\r\n          \"operator\"\
        : \"GreaterThan\",\r\n          \"timeAggregation\": \"Maximum\",\r\n    \
        \      \"criterionType\": \"StaticThresholdCriterion\"\r\n        }\r\n  \
        \    ],\r\n      \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\
        \r\n    },\r\n    \"targetResourceRegion\": \"westus\",\r\n    \"actions\"\
        : [\r\n      {\r\n        \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1\"\
        ,\r\n        \"webHookProperties\": {\r\n          \"ag1key\": \"ag1value\"\
        \r\n        }\r\n      }\r\n    ]\r\n  }\r\n}"
    headers:
      api-supported-versions:
      - 2017-09-01-preview, 2018-03-01
      arr-disable-session-affinity:
      - 'true'
      cache-control:
      - no-cache
      content-length:
      - '1336'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 08:54:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor clone
      Connection:
      - keep-alive
      ParameterSetName:
      - --source-resource --target-resource
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Insights/metricAlerts?api-version=2018-03-01
  response:
    body:
      string: "{\r\n  \"value\": [\r\n    {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/liwaRg/providers/Microsoft.Insights/metricAlerts/alert\"\
        ,\r\n      \"name\": \"alert\",\r\n      \"type\": \"Microsoft.Insights/metricAlerts\"\
        ,\r\n      \"location\": \"global\",\r\n      \"properties\": {\r\n      \
        \  \"description\": \"Test\",\r\n        \"severity\": 2,\r\n        \"enabled\"\
        : true,\r\n        \"scopes\": [\r\n          \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/liwaRg/providers/Microsoft.Storage/storageAccounts/liwasg\"\
        \r\n        ],\r\n        \"evaluationFrequency\": \"PT1M\",\r\n        \"\
        windowSize\": \"PT5M\",\r\n        \"criteria\": {\r\n          \"allOf\"\
        : [\r\n            {\r\n              \"threshold\": 5.0,\r\n            \
        \  \"name\": \"cond0\",\r\n              \"metricName\": \"transactions\"\
        ,\r\n              \"dimensions\": [\r\n                {\r\n            \
        \      \"name\": \"ResponseType\",\r\n                  \"operator\": \"Include\"\
        ,\r\n                  \"values\": [\r\n                    \"Success\"\r\n\
        \                  ]\r\n                },\r\n                {\r\n      \
        \            \"name\": \"ApiName\",\r\n                  \"operator\": \"\
        Include\",\r\n                  \"values\": [\r\n                    \"GetBlob\"\
        \r\n                  ]\r\n                }\r\n              ],\r\n     \
        \         \"operator\": \"GreaterThan\",\r\n              \"timeAggregation\"\
        : \"Total\",\r\n              \"criterionType\": \"StaticThresholdCriterion\"\
        \r\n            },\r\n            {\r\n              \"threshold\": 250.0,\r\
        \n              \"name\": \"cond1\",\r\n              \"metricName\": \"SuccessE2ELatency\"\
        ,\r\n              \"dimensions\": [\r\n                {\r\n            \
        \      \"name\": \"ApiName\",\r\n                  \"operator\": \"Include\"\
        ,\r\n                  \"values\": [\r\n                    \"GetBlob\"\r\n\
        \                  ]\r\n                }\r\n              ],\r\n        \
        \      \"operator\": \"GreaterThan\",\r\n              \"timeAggregation\"\
        : \"Average\",\r\n              \"criterionType\": \"StaticThresholdCriterion\"\
        \r\n            }\r\n          ],\r\n          \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\
        \r\n        },\r\n        \"targetResourceRegion\": \"westus\",\r\n      \
        \  \"actions\": [\r\n          {\r\n            \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/liwaRg/providers/microsoft.insights/actionGroups/ag1\"\
        ,\r\n            \"webHookProperties\": {\r\n              \"ag1key\": \"\
        ag1value\"\r\n            }\r\n          }\r\n        ]\r\n      }\r\n   \
        \ },\r\n    {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/liwaRg/providers/Microsoft.Insights/metricAlerts/cloned-liwasg1-9fbbc17f-649d-4308-96eb-8e1090fa2ede\"\
        ,\r\n      \"name\": \"cloned-liwasg1-9fbbc17f-649d-4308-96eb-8e1090fa2ede\"\
        ,\r\n      \"type\": \"Microsoft.Insights/metricAlerts\",\r\n      \"location\"\
        : \"global\",\r\n      \"properties\": {\r\n        \"description\": \"Test\"\
        ,\r\n        \"severity\": 2,\r\n        \"enabled\": true,\r\n        \"\
        scopes\": [\r\n          \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/liwaRg/providers/Microsoft.Storage/storageAccounts/liwasg1\"\
        \r\n        ],\r\n        \"evaluationFrequency\": \"PT1M\",\r\n        \"\
        windowSize\": \"PT5M\",\r\n        \"criteria\": {\r\n          \"allOf\"\
        : [\r\n            {\r\n              \"threshold\": 5.0,\r\n            \
        \  \"name\": \"cond0\",\r\n              \"metricName\": \"transactions\"\
        ,\r\n              \"dimensions\": [\r\n                {\r\n            \
        \      \"name\": \"ResponseType\",\r\n                  \"operator\": \"Include\"\
        ,\r\n                  \"values\": [\r\n                    \"Success\"\r\n\
        \                  ]\r\n                },\r\n                {\r\n      \
        \            \"name\": \"ApiName\",\r\n                  \"operator\": \"\
        Include\",\r\n                  \"values\": [\r\n                    \"GetBlob\"\
        \r\n                  ]\r\n                }\r\n              ],\r\n     \
        \         \"operator\": \"GreaterThan\",\r\n              \"timeAggregation\"\
        : \"Total\",\r\n              \"criterionType\": \"StaticThresholdCriterion\"\
        \r\n            },\r\n            {\r\n              \"threshold\": 250.0,\r\
        \n              \"name\": \"cond1\",\r\n              \"metricName\": \"SuccessE2ELatency\"\
        ,\r\n              \"dimensions\": [\r\n                {\r\n            \
        \      \"name\": \"ApiName\",\r\n                  \"operator\": \"Include\"\
        ,\r\n                  \"values\": [\r\n                    \"GetBlob\"\r\n\
        \                  ]\r\n                }\r\n              ],\r\n        \
        \      \"operator\": \"GreaterThan\",\r\n              \"timeAggregation\"\
        : \"Average\",\r\n              \"criterionType\": \"StaticThresholdCriterion\"\
        \r\n            }\r\n          ],\r\n          \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\
        \r\n        },\r\n        \"targetResourceRegion\": \"westus\",\r\n      \
        \  \"actions\": [\r\n          {\r\n            \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/liwaRg/providers/microsoft.insights/actionGroups/cloned-ag1-13869aa8-d83c-4228-b348-eda625febeeb\"\
        ,\r\n            \"webHookProperties\": {\r\n              \"ag1key\": \"\
        ag1value\"\r\n            }\r\n          }\r\n        ]\r\n      }\r\n   \
        \ },\r\n    {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/alert1\"\
        ,\r\n      \"name\": \"alert1\",\r\n      \"type\": \"Microsoft.Insights/metricAlerts\"\
        ,\r\n      \"location\": \"global\",\r\n      \"properties\": {\r\n      \
        \  \"description\": \"Test\",\r\n        \"severity\": 2,\r\n        \"enabled\"\
        : true,\r\n        \"scopes\": [\r\n          \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1\"\
        \r\n        ],\r\n        \"evaluationFrequency\": \"PT1M\",\r\n        \"\
        windowSize\": \"PT5M\",\r\n        \"criteria\": {\r\n          \"allOf\"\
        : [\r\n            {\r\n              \"threshold\": 5.0,\r\n            \
        \  \"name\": \"cond0\",\r\n              \"metricName\": \"TCPBytesForwardedDDoS\"\
        ,\r\n              \"operator\": \"GreaterThan\",\r\n              \"timeAggregation\"\
        : \"Total\",\r\n              \"criterionType\": \"StaticThresholdCriterion\"\
        \r\n            }\r\n          ],\r\n          \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\
        \r\n        },\r\n        \"targetResourceRegion\": \"westus\",\r\n      \
        \  \"actions\": [\r\n          {\r\n            \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1\"\
        \r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      \"id\"\
        : \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/alert2\"\
        ,\r\n      \"name\": \"alert2\",\r\n      \"type\": \"Microsoft.Insights/metricAlerts\"\
        ,\r\n      \"location\": \"global\",\r\n      \"properties\": {\r\n      \
        \  \"description\": \"Test2\",\r\n        \"severity\": 2,\r\n        \"enabled\"\
        : true,\r\n        \"scopes\": [\r\n          \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1\"\
        \r\n        ],\r\n        \"evaluationFrequency\": \"PT1M\",\r\n        \"\
        windowSize\": \"PT5M\",\r\n        \"criteria\": {\r\n          \"allOf\"\
        : [\r\n            {\r\n              \"threshold\": 5.0,\r\n            \
        \  \"name\": \"cond0\",\r\n              \"metricName\": \"TCPBytesForwardedDDoS\"\
        ,\r\n              \"operator\": \"GreaterThan\",\r\n              \"timeAggregation\"\
        : \"Maximum\",\r\n              \"criterionType\": \"StaticThresholdCriterion\"\
        \r\n            }\r\n          ],\r\n          \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\
        \r\n        },\r\n        \"targetResourceRegion\": \"westus\",\r\n      \
        \  \"actions\": [\r\n          {\r\n            \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1\"\
        ,\r\n            \"webHookProperties\": {\r\n              \"ag1key\": \"\
        ag1value\"\r\n            }\r\n          }\r\n        ]\r\n      }\r\n   \
        \ }\r\n  ]\r\n}"
    headers:
      api-supported-versions:
      - 2017-09-01-preview, 2018-03-01
      arr-disable-session-affinity:
      - 'true'
      cache-control:
      - no-cache
      content-length:
      - '7846'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 08:54:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor clone
      Connection:
      - keep-alive
      ParameterSetName:
      - --source-resource --target-resource
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/alert1?api-version=2018-03-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/alert1\"\
        ,\r\n  \"name\": \"alert1\",\r\n  \"type\": \"Microsoft.Insights/metricAlerts\"\
        ,\r\n  \"location\": \"global\",\r\n  \"properties\": {\r\n    \"description\"\
        : \"Test\",\r\n    \"severity\": 2,\r\n    \"enabled\": true,\r\n    \"scopes\"\
        : [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1\"\
        \r\n    ],\r\n    \"evaluationFrequency\": \"PT1M\",\r\n    \"windowSize\"\
        : \"PT5M\",\r\n    \"criteria\": {\r\n      \"allOf\": [\r\n        {\r\n\
        \          \"threshold\": 5.0,\r\n          \"name\": \"cond0\",\r\n     \
        \     \"metricName\": \"TCPBytesForwardedDDoS\",\r\n          \"operator\"\
        : \"GreaterThan\",\r\n          \"timeAggregation\": \"Total\",\r\n      \
        \    \"criterionType\": \"StaticThresholdCriterion\"\r\n        }\r\n    \
        \  ],\r\n      \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\
        \r\n    },\r\n    \"targetResourceRegion\": \"westus\",\r\n    \"actions\"\
        : [\r\n      {\r\n        \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1\"\
        \r\n      }\r\n    ]\r\n  }\r\n}"
    headers:
      api-supported-versions:
      - 2017-09-01-preview, 2018-03-01
      arr-disable-session-affinity:
      - 'true'
      cache-control:
      - no-cache
      content-length:
      - '1257'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 08:54:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "global", "properties": {"actions": [{"actionGroupId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1"}],
      "criteria": {"odata.type": "Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria",
      "allOf": [{"criterionType": "StaticThresholdCriterion", "metricName": "TCPBytesForwardedDDoS",
      "name": "cond0", "operator": "GreaterThan", "threshold": 5.0, "timeAggregation":
      "Total"}]}, "description": "Test", "enabled": true, "evaluationFrequency": "PT1M",
      "scopes": ["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1",
      "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip2"],
      "severity": 2, "targetResourceRegion": "westus", "windowSize": "PT5M"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor clone
      Connection:
      - keep-alive
      Content-Length:
      - '961'
      Content-Type:
      - application/json
      ParameterSetName:
      - --source-resource --target-resource
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/alert1?api-version=2018-03-01
  response:
    body:
      string: '{"code":"BadRequest","message":"Scopes property is invalid. Only single
        resource is allowed for criteria type SingleResourceMultipleMetricCriteria.
        If you want to create an alert on multiple resources, use MultipleResourceMultipleMetricCriteria
        odata.type. Activity ID: 803e8471-d21f-40d6-a1ed-d8f4e3adb73f."}'
    headers:
      api-supported-versions:
      - 2017-09-01-preview, 2018-03-01
      arr-disable-session-affinity:
      - 'true'
      cache-control:
      - no-cache
      content-length:
      - '309'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 08:54:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
      x-powered-by:
      - ASP.NET
    status:
      code: 400
      message: BadRequest
- request:
    body: '{"location": "global", "properties": {"actions": [{"actionGroupId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1"}],
      "criteria": {"odata.type": "Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria",
      "allOf": [{"criterionType": "StaticThresholdCriterion", "metricName": "TCPBytesForwardedDDoS",
      "name": "cond0", "operator": "GreaterThan", "threshold": 5.0, "timeAggregation":
      "Total"}]}, "description": "Test", "enabled": true, "evaluationFrequency": "PT1M",
      "scopes": ["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip2"],
      "severity": 2, "targetResourceRegion": "westus", "windowSize": "PT5M"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor clone
      Connection:
      - keep-alive
      Content-Length:
      - '807'
      Content-Type:
      - application/json
      ParameterSetName:
      - --source-resource --target-resource
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/cloned-ip2-88888888-0000-0000-0000-000000000001?api-version=2018-03-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/cloned-ip2-88888888-0000-0000-0000-000000000001\"\
        ,\r\n  \"name\": \"cloned-ip2-88888888-0000-0000-0000-000000000001\",\r\n\
        \  \"type\": \"Microsoft.Insights/metricAlerts\",\r\n  \"location\": \"global\"\
        ,\r\n  \"properties\": {\r\n    \"description\": \"Test\",\r\n    \"severity\"\
        : 2,\r\n    \"enabled\": true,\r\n    \"scopes\": [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip2\"\
        \r\n    ],\r\n    \"evaluationFrequency\": \"PT1M\",\r\n    \"windowSize\"\
        : \"PT5M\",\r\n    \"criteria\": {\r\n      \"allOf\": [\r\n        {\r\n\
        \          \"threshold\": 5.0,\r\n          \"name\": \"cond0\",\r\n     \
        \     \"metricName\": \"TCPBytesForwardedDDoS\",\r\n          \"operator\"\
        : \"GreaterThan\",\r\n          \"timeAggregation\": \"Total\",\r\n      \
        \    \"criterionType\": \"StaticThresholdCriterion\"\r\n        }\r\n    \
        \  ],\r\n      \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\
        \r\n    },\r\n    \"targetResourceRegion\": \"westus\",\r\n    \"actions\"\
        : [\r\n      {\r\n        \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1\"\
        \r\n      }\r\n    ]\r\n  }\r\n}"
    headers:
      api-supported-versions:
      - 2017-09-01-preview, 2018-03-01
      arr-disable-session-affinity:
      - 'true'
      cache-control:
      - no-cache
      content-length:
      - '1339'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 08:55:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '297'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor clone
      Connection:
      - keep-alive
      ParameterSetName:
      - --source-resource --target-resource
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/alert2?api-version=2018-03-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/alert2\"\
        ,\r\n  \"name\": \"alert2\",\r\n  \"type\": \"Microsoft.Insights/metricAlerts\"\
        ,\r\n  \"location\": \"global\",\r\n  \"properties\": {\r\n    \"description\"\
        : \"Test2\",\r\n    \"severity\": 2,\r\n    \"enabled\": true,\r\n    \"scopes\"\
        : [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1\"\
        \r\n    ],\r\n    \"evaluationFrequency\": \"PT1M\",\r\n    \"windowSize\"\
        : \"PT5M\",\r\n    \"criteria\": {\r\n      \"allOf\": [\r\n        {\r\n\
        \          \"threshold\": 5.0,\r\n          \"name\": \"cond0\",\r\n     \
        \     \"metricName\": \"TCPBytesForwardedDDoS\",\r\n          \"operator\"\
        : \"GreaterThan\",\r\n          \"timeAggregation\": \"Maximum\",\r\n    \
        \      \"criterionType\": \"StaticThresholdCriterion\"\r\n        }\r\n  \
        \    ],\r\n      \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\
        \r\n    },\r\n    \"targetResourceRegion\": \"westus\",\r\n    \"actions\"\
        : [\r\n      {\r\n        \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1\"\
        ,\r\n        \"webHookProperties\": {\r\n          \"ag1key\": \"ag1value\"\
        \r\n        }\r\n      }\r\n    ]\r\n  }\r\n}"
    headers:
      api-supported-versions:
      - 2017-09-01-preview, 2018-03-01
      arr-disable-session-affinity:
      - 'true'
      cache-control:
      - no-cache
      content-length:
      - '1336'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 08:55:18 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "global", "properties": {"actions": [{"actionGroupId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1",
      "webHookProperties": {"ag1key": "ag1value"}}], "criteria": {"odata.type": "Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria",
      "allOf": [{"criterionType": "StaticThresholdCriterion", "metricName": "TCPBytesForwardedDDoS",
      "name": "cond0", "operator": "GreaterThan", "threshold": 5.0, "timeAggregation":
      "Maximum"}]}, "description": "Test2", "enabled": true, "evaluationFrequency":
      "PT1M", "scopes": ["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1",
      "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip2"],
      "severity": 2, "targetResourceRegion": "westus", "windowSize": "PT5M"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor clone
      Connection:
      - keep-alive
      Content-Length:
      - '1009'
      Content-Type:
      - application/json
      ParameterSetName:
      - --source-resource --target-resource
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/alert2?api-version=2018-03-01
  response:
    body:
      string: '{"code":"BadRequest","message":"Scopes property is invalid. Only single
        resource is allowed for criteria type SingleResourceMultipleMetricCriteria.
        If you want to create an alert on multiple resources, use MultipleResourceMultipleMetricCriteria
        odata.type. Activity ID: 7e93525f-dd4b-4b08-94c1-144ad1b7d90f."}'
    headers:
      api-supported-versions:
      - 2017-09-01-preview, 2018-03-01
      arr-disable-session-affinity:
      - 'true'
      cache-control:
      - no-cache
      content-length:
      - '309'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 08:55:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
      x-powered-by:
      - ASP.NET
    status:
      code: 400
      message: BadRequest
- request:
    body: '{"location": "global", "properties": {"actions": [{"actionGroupId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1",
      "webHookProperties": {"ag1key": "ag1value"}}], "criteria": {"odata.type": "Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria",
      "allOf": [{"criterionType": "StaticThresholdCriterion", "metricName": "TCPBytesForwardedDDoS",
      "name": "cond0", "operator": "GreaterThan", "threshold": 5.0, "timeAggregation":
      "Maximum"}]}, "description": "Test2", "enabled": true, "evaluationFrequency":
      "PT1M", "scopes": ["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip2"],
      "severity": 2, "targetResourceRegion": "westus", "windowSize": "PT5M"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor clone
      Connection:
      - keep-alive
      Content-Length:
      - '855'
      Content-Type:
      - application/json
      ParameterSetName:
      - --source-resource --target-resource
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/cloned-ip2-88888888-0000-0000-0000-000000000002?api-version=2018-03-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/cloned-ip2-88888888-0000-0000-0000-000000000002\"\
        ,\r\n  \"name\": \"cloned-ip2-88888888-0000-0000-0000-000000000002\",\r\n\
        \  \"type\": \"Microsoft.Insights/metricAlerts\",\r\n  \"location\": \"global\"\
        ,\r\n  \"properties\": {\r\n    \"description\": \"Test2\",\r\n    \"severity\"\
        : 2,\r\n    \"enabled\": true,\r\n    \"scopes\": [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip2\"\
        \r\n    ],\r\n    \"evaluationFrequency\": \"PT1M\",\r\n    \"windowSize\"\
        : \"PT5M\",\r\n    \"criteria\": {\r\n      \"allOf\": [\r\n        {\r\n\
        \          \"threshold\": 5.0,\r\n          \"name\": \"cond0\",\r\n     \
        \     \"metricName\": \"TCPBytesForwardedDDoS\",\r\n          \"operator\"\
        : \"GreaterThan\",\r\n          \"timeAggregation\": \"Maximum\",\r\n    \
        \      \"criterionType\": \"StaticThresholdCriterion\"\r\n        }\r\n  \
        \    ],\r\n      \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\
        \r\n    },\r\n    \"targetResourceRegion\": \"westus\",\r\n    \"actions\"\
        : [\r\n      {\r\n        \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1\"\
        ,\r\n        \"webHookProperties\": {\r\n          \"ag1key\": \"ag1value\"\
        \r\n        }\r\n      }\r\n    ]\r\n  }\r\n}"
    headers:
      api-supported-versions:
      - 2017-09-01-preview, 2018-03-01
      arr-disable-session-affinity:
      - 'true'
      cache-control:
      - no-cache
      content-length:
      - '1418'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 08:55:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor action-group list
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -o
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/actionGroups?api-version=2022-06-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1","type":"Microsoft.Insights/ActionGroups","name":"ag1","location":"Global","kind":null,"tags":null,"properties":{"groupShortName":"ag1","enabled":true,"emailReceivers":[],"smsReceivers":[],"webhookReceivers":[],"eventHubReceivers":[],"itsmReceivers":[],"azureAppPushReceivers":[],"automationRunbookReceivers":[],"voiceReceivers":[],"logicAppReceivers":[],"azureFunctionReceivers":[],"armRoleReceivers":[]}}]}'
    headers:
      access-control-expose-headers:
      - x-activityid
      api-supported-versions:
      - 2016-09-01-preview, 2017-03-01-preview, 2017-04-01, 2018-03-01, 2018-09-01,
        2019-03-01, 2019-06-01, 2021-09-01, 2022-04-01, 2022-06-01, 2023-01-01, 2023-03-01-preview,
        2023-05-01-preview, 2023-05-01, 2023-08-01-preview, 2023-09-01-preview
      cache-control:
      - no-cache
      content-length:
      - '572'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 08:55:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-activityid:
      - 780a0b35-6f26-11ee-80f9-c01803b31d8e
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '249'
      x-servedby:
      - EUS2ONEIM000002
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor metrics alert list
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -o
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts?api-version=2018-03-01
  response:
    body:
      string: "{\r\n  \"value\": [\r\n    {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/alert1\"\
        ,\r\n      \"name\": \"alert1\",\r\n      \"type\": \"Microsoft.Insights/metricAlerts\"\
        ,\r\n      \"location\": \"global\",\r\n      \"properties\": {\r\n      \
        \  \"description\": \"Test\",\r\n        \"severity\": 2,\r\n        \"enabled\"\
        : true,\r\n        \"scopes\": [\r\n          \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1\"\
        \r\n        ],\r\n        \"evaluationFrequency\": \"PT1M\",\r\n        \"\
        windowSize\": \"PT5M\",\r\n        \"criteria\": {\r\n          \"allOf\"\
        : [\r\n            {\r\n              \"threshold\": 5.0,\r\n            \
        \  \"name\": \"cond0\",\r\n              \"metricName\": \"TCPBytesForwardedDDoS\"\
        ,\r\n              \"operator\": \"GreaterThan\",\r\n              \"timeAggregation\"\
        : \"Total\",\r\n              \"criterionType\": \"StaticThresholdCriterion\"\
        \r\n            }\r\n          ],\r\n          \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\
        \r\n        },\r\n        \"targetResourceRegion\": \"westus\",\r\n      \
        \  \"actions\": [\r\n          {\r\n            \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1\"\
        \r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      \"id\"\
        : \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/alert2\"\
        ,\r\n      \"name\": \"alert2\",\r\n      \"type\": \"Microsoft.Insights/metricAlerts\"\
        ,\r\n      \"location\": \"global\",\r\n      \"properties\": {\r\n      \
        \  \"description\": \"Test2\",\r\n        \"severity\": 2,\r\n        \"enabled\"\
        : true,\r\n        \"scopes\": [\r\n          \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1\"\
        \r\n        ],\r\n        \"evaluationFrequency\": \"PT1M\",\r\n        \"\
        windowSize\": \"PT5M\",\r\n        \"criteria\": {\r\n          \"allOf\"\
        : [\r\n            {\r\n              \"threshold\": 5.0,\r\n            \
        \  \"name\": \"cond0\",\r\n              \"metricName\": \"TCPBytesForwardedDDoS\"\
        ,\r\n              \"operator\": \"GreaterThan\",\r\n              \"timeAggregation\"\
        : \"Maximum\",\r\n              \"criterionType\": \"StaticThresholdCriterion\"\
        \r\n            }\r\n          ],\r\n          \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\
        \r\n        },\r\n        \"targetResourceRegion\": \"westus\",\r\n      \
        \  \"actions\": [\r\n          {\r\n            \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1\"\
        ,\r\n            \"webHookProperties\": {\r\n              \"ag1key\": \"\
        ag1value\"\r\n            }\r\n          }\r\n        ]\r\n      }\r\n   \
        \ },\r\n    {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/cloned-ip2-88888888-0000-0000-0000-000000000001\"\
        ,\r\n      \"name\": \"cloned-ip2-88888888-0000-0000-0000-000000000001\",\r\
        \n      \"type\": \"Microsoft.Insights/metricAlerts\",\r\n      \"location\"\
        : \"global\",\r\n      \"properties\": {\r\n        \"description\": \"Test\"\
        ,\r\n        \"severity\": 2,\r\n        \"enabled\": true,\r\n        \"\
        scopes\": [\r\n          \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip2\"\
        \r\n        ],\r\n        \"evaluationFrequency\": \"PT1M\",\r\n        \"\
        windowSize\": \"PT5M\",\r\n        \"criteria\": {\r\n          \"allOf\"\
        : [\r\n            {\r\n              \"threshold\": 5.0,\r\n            \
        \  \"name\": \"cond0\",\r\n              \"metricName\": \"TCPBytesForwardedDDoS\"\
        ,\r\n              \"operator\": \"GreaterThan\",\r\n              \"timeAggregation\"\
        : \"Total\",\r\n              \"criterionType\": \"StaticThresholdCriterion\"\
        \r\n            }\r\n          ],\r\n          \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\
        \r\n        },\r\n        \"targetResourceRegion\": \"westus\",\r\n      \
        \  \"actions\": [\r\n          {\r\n            \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1\"\
        \r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      \"id\"\
        : \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/cloned-ip2-88888888-0000-0000-0000-000000000002\"\
        ,\r\n      \"name\": \"cloned-ip2-88888888-0000-0000-0000-000000000002\",\r\
        \n      \"type\": \"Microsoft.Insights/metricAlerts\",\r\n      \"location\"\
        : \"global\",\r\n      \"properties\": {\r\n        \"description\": \"Test2\"\
        ,\r\n        \"severity\": 2,\r\n        \"enabled\": true,\r\n        \"\
        scopes\": [\r\n          \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip2\"\
        \r\n        ],\r\n        \"evaluationFrequency\": \"PT1M\",\r\n        \"\
        windowSize\": \"PT5M\",\r\n        \"criteria\": {\r\n          \"allOf\"\
        : [\r\n            {\r\n              \"threshold\": 5.0,\r\n            \
        \  \"name\": \"cond0\",\r\n              \"metricName\": \"TCPBytesForwardedDDoS\"\
        ,\r\n              \"operator\": \"GreaterThan\",\r\n              \"timeAggregation\"\
        : \"Maximum\",\r\n              \"criterionType\": \"StaticThresholdCriterion\"\
        \r\n            }\r\n          ],\r\n          \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\
        \r\n        },\r\n        \"targetResourceRegion\": \"westus\",\r\n      \
        \  \"actions\": [\r\n          {\r\n            \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1\"\
        ,\r\n            \"webHookProperties\": {\r\n              \"ag1key\": \"\
        ag1value\"\r\n            }\r\n          }\r\n        ]\r\n      }\r\n   \
        \ }\r\n  ]\r\n}"
    headers:
      api-supported-versions:
      - 2017-09-01-preview, 2018-03-01
      arr-disable-session-affinity:
      - 'true'
      cache-control:
      - no-cache
      content-length:
      - '5968'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 08:55:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
version: 1
